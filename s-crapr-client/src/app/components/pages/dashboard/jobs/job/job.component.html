<!-- component -->
<div class="grid grid-cols-1">
  <form class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 flex flex-col" [formGroup]="jobForm"
    (ngSubmit)="onSubmit()">
    <h2 class="uppercase tracking-wide text-grey-darker font-bold mb-10 mt-4">Job details</h2>
    <div class="-mx-3 md:flex mb-6">
      <div class="md:w-1/2 px-3 mb-6 md:mb-0">
        <label class="block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2" for="job-id">
          ID
        </label>
        <input
          class="appearance-none block w-full bg-grey-lighter text-grey-darker border border-red rounded py-3 px-4 mb-3"
          id="job-id" type="text" formControlName="id" readonly>
      </div>
    </div>
    <div class="-mx-3 md:flex mb-6" formGroupName="schedule">
      <div class="md:w-24 px-3 mb-6 md:mb-0 text-center">
        <label class="block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2" for="job-schedule-minute">
          Minute
        </label>
        <input
          class="appearance-none block w-full bg-grey-lighter text-grey-darker border border-red rounded py-3 px-4 mb-3 text-center"
          id="job-schedule-minute" type="text" formControlName="minute" placeholder="*">
      </div>
      <div class="md:w-24 px-3 mb-6 md:mb-0 text-center">
        <label class="block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2" for="job-schedule-hour">
          Hour
        </label>
        <input
          class="appearance-none block w-full bg-grey-lighter text-grey-darker border border-red rounded py-3 px-4 mb-3 text-center"
          id="job-schedule-hour" type="text" formControlName="hour" placeholder="*">
      </div>
      <div class="md:w-24 px-3 mb-6 md:mb-0 text-center">
        <label class="block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2"
          for="job-schedule-day-of-month" title="Day of the month">
          Day/M
        </label>
        <input
          class="appearance-none block w-full bg-grey-lighter text-grey-darker border border-red rounded py-3 px-4 mb-3 text-center"
          id="job-schedule-day-of-month" type="text" formControlName="dayOfMonth" placeholder="*">
      </div>
      <div class="md:w-24 px-3 mb-6 md:mb-0 text-center">
        <label class="block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2" for="job-schedule-month">
          Month
        </label>
        <input
          class="appearance-none block w-full bg-grey-lighter text-grey-darker border border-red rounded py-3 px-4 mb-3 text-center"
          id="job-schedule-month" type="text" formControlName="month" placeholder="*">
      </div>
      <div class="md:w-24 px-3 mb-6 md:mb-0 text-center">
        <label class="block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2"
          for="job-schedule-day-of-week" title="Day of the week">
          Day/W
        </label>
        <input
          class="appearance-none block w-full bg-grey-lighter text-grey-darker border border-red rounded py-3 px-4 mb-3 text-center"
          id="job-schedule-day-of-week" type="text" formControlName="dayOfWeek" placeholder="*">
      </div>
    </div>
    <div class="-mx-3 md:flex mb-6">
      <div class="md:w-1/2 px-3">
        <label class="block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2" for="job-scrapper-id">
          Scrapper
        </label>
        <div class="relative">
          <select
            class="block appearance-none w-full bg-grey-lighter border border-grey-lighter text-grey-darker py-3 px-4 pr-8 rounded"
            id="job-scrapper-id" formControlName="scrapperId">
            <option value="text" value="">-- Select an option --</option>
            <option value="text" *ngFor="let item of scrappers$ | async" [value]="item.id">Scrapper ID: {{
              item.id }}
            </option>
          </select>
          <p class="text-red text-xs italic">Please select one option.</p>
        </div>
      </div>
    </div>
    <div class="-mx-3 md:flex mb-6">
      <div class="md:w-full px-3">
        <label class="block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2" for="job-description">
          Job Description
        </label>
        <textarea
          class="appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4 mb-3"
          id="job-description" placeholder="What's the purpose of the job" formControlName="description"></textarea>
        <p class="text-grey-dark text-xs italic">Make it as long and as crazy as you'd like</p>
      </div>
    </div>

    <div class="-mx-3 md:flex mb-6">
      <div class="md:w-1/2 px-3 mb-6 md:mb-0">
        <label class="block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2" for="job-enabled">
          Enabled
        </label>
        <input id="job-enabled" type="checkbox" formControlName="enabled">
      </div>
    </div>

    <hr class="mb-8 mt-4">

    <div class="-mx-3 md:flex mb-6">
      <button type="submit" value="Submit" [disabled]="!jobForm.valid || savingJob" [ngClass]="{'hover:bg-green-700 hover:text-white border-green-500 text-green-500':(jobForm.valid && !jobForm.pristine)}"
        class="px-5 py-2 border rounded transition duration-300 focus:outline-none text-center">
        {{ savingJob ? 'Saving...' : 'Save' }}
      </button>
    </div>
  </form>
</div>
